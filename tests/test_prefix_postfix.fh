fn id(v) { return v; }

fn main() {
    let x = 1;
    x++;
    assert(x == 2);
    assert(++x == 3);
    x--;
    assert(x == 2);
    assert(--x == 1);

    let a = [0];
    a[0]++;
    assert(a[0] == 1);
    assert(++a[0] == 2);

    let m = {"k": 1};
    m.k++;
    assert(m.k == 2);
    assert(++m.k == 3);

    let c = 1;
    assert(id(c++) == 1);
    assert(c == 2);

    let d = [0];
    assert(id(d[0]++) == 0);
    assert(d[0] == 1);

    let e = [0];
    assert((e[0]++) + (e[0]++) == 1); # 0 + 1
    assert(e[0] == 2);

    let v = 0;
    assert(v++ + ++v, 2);

    let arr = [0];
    # assert(arr[0]++ + ++arr[0], 2);

    println("ok\n");
}